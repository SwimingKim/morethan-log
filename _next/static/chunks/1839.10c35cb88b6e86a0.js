"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1839],{1839:function(t,e,s){s.r(e);var a=s(5893),r=s(9313),n=s(3697),d=s(7294);e.default=function(t){var e=t.id,s=t.slug,i=t.title,c=(0,d.useState)(0),o=c[0],u=c[1],l=(0,d.useCallback)((function(){u((function(t){return t+1}))}),[]);return(0,d.useEffect)((function(){var t=new MutationObserver((function(t){t.forEach((function(t){l()}))}));return t.observe(document.documentElement,{attributeFilter:["class"]}),function(){t.disconnect()}}),[l]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{id:"comments",className:"mt-10",children:(0,a.jsx)(n.s,{attrs:{host:r.CONFIG.cusdis.config.host,appId:r.CONFIG.cusdis.config.appid,pageId:e,pageTitle:i,pageUrl:"".concat(r.CONFIG.link,"/").concat(s),theme:document.documentElement.classList.contains("dark")?"dark":"light"}},o)})})}},3697:function(t,e,s){e.s=void 0;const a=s(7294),r=s(168);e.s=function(t){const e=a.useRef(null),s=t.attrs.host||"https://cusdis.com";return r.useScript(`${s}/js/cusdis.es.js`),r.useScript(t.lang?`${s}/js/widget/lang/${t.lang}.js`:""),a.useLayoutEffect((()=>{const t=window.renderCusdis;t&&t(e.current)}),[t.attrs.appId,t.attrs.host,t.attrs.pageId,t.attrs.pageTitle,t.attrs.pageUrl,t.lang]),a.createElement(a.Fragment,null,a.createElement("div",{id:"cusdis_thread","data-host":s,"data-page-id":t.attrs.pageId,"data-app-id":t.attrs.appId,"data-page-title":t.attrs.pageTitle,"data-page-url":t.attrs.pageUrl,"data-theme":t.attrs.theme,style:t.style,ref:e}))}},168:function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.useScript=void 0;const a=s(7294);e.useScript=function(t){const[e,s]=a.useState(t?"loading":"idle");return a.useEffect((()=>{if(!t)return void s("idle");let e=document.querySelector(`script[src="${t}"]`);if(e)s(e.getAttribute("data-status"));else{e=document.createElement("script"),e.src=t,e.async=!0,e.setAttribute("data-status","loading"),document.body.appendChild(e);const s=t=>{e.setAttribute("data-status","load"===t.type?"ready":"error")};e.addEventListener("load",s),e.addEventListener("error",s)}const a=t=>{s("load"===t.type?"ready":"error")};return e.addEventListener("load",a),e.addEventListener("error",a),()=>{e&&(e.removeEventListener("load",a),e.removeEventListener("error",a))}}),[t]),e}}}]);